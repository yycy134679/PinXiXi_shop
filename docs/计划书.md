# å®ç°è®¡åˆ’ (IMP) - PinXiXi ç”µå•†å¹³å°

**é¡¹ç›®ä»£å·:** PinXiXi_Shop
**ç‰ˆæœ¬:** 1.0
**åˆ¶å®šæ—¥æœŸ:** 2025-05-18


**ä»»åŠ¡çŠ¶æ€è¯´æ˜:**
*   `[]` æœªå¼€å§‹
*   `[-]` è¿›è¡Œä¸­
*   `[âœ…]` å·²å®Œæˆ
*   ğŸ‘¤ éœ€è¦äººå·¥ä¸»å¯¼å®Œæˆæˆ–é‡ç‚¹å…³æ³¨çš„ä»»åŠ¡

## 0. é¡¹ç›®å‰æœŸå‡†å¤‡ä¸ç¯å¢ƒé…ç½®

*   `[âœ…]` ç¡®è®¤å¼€å‘ç¯å¢ƒ (JDK 8+ (æ¨è LTS ç‰ˆæœ¬å¦‚ JDK 11 æˆ– 17), Maven 3.6+, IDEå¦‚IntelliJ IDEA Ultimateæˆ–Eclipse for Java EE) å·²æ­£ç¡®å®‰è£…å’Œé…ç½®ã€‚ ğŸ‘¤
*   `[âœ…]` ç¡®è®¤ MySQL 8 æœåŠ¡å™¨å·²å®‰è£…å¹¶æ­£åœ¨è¿è¡Œï¼Œæ•°æ®åº“å®¢æˆ·ç«¯ (å¦‚ Navicat, DBeaver, MySQL Workbench) å¯ç”¨ã€‚ ğŸ‘¤
*   `[âœ…]` **åˆå§‹åŒ–é¡¹ç›®æ•°æ®åº“:** ğŸ‘¤
    *   ä½¿ç”¨æ•°æ®åº“å®¢æˆ·ç«¯è¿æ¥åˆ° MySQL æœåŠ¡å™¨ã€‚
    *   åˆ›å»ºåä¸º `pinxixi_shop` çš„æ•°æ®åº“ schema (å­—ç¬¦é›†æ¨è `utf8mb4`, æ’åºè§„åˆ™ `utf8mb4_unicode_ci`)ã€‚
    *   æ‰§è¡Œé¡¹ç›®æä¾›çš„ `PinXiXi_shop.sql` è„šæœ¬ï¼Œå®Œæˆè¡¨ç»“æ„åˆ›å»ºå’Œåˆå§‹æ•°æ®å¯¼å…¥ã€‚
    *   éªŒè¯æ•°æ®æ˜¯å¦æˆåŠŸå¯¼å…¥ã€‚
*   `[âœ…]` **åˆ›å»º Maven Web é¡¹ç›®éª¨æ¶:** ğŸ‘¤
    *   ä½¿ç”¨ IDE (å¦‚ IntelliJ IDEA) åˆ›å»ºä¸€ä¸ªæ–°çš„ Maven Web Application é¡¹ç›® (é€‰æ‹©åˆé€‚çš„ Java EE ç‰ˆæœ¬ï¼Œå¦‚ Java EE 8)ã€‚
    *   é…ç½® `pom.xml` æ–‡ä»¶ï¼Œæ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š
        *   `[]` `javax.servlet-api` (Servlet API, scope: provided)
        *   `[]` `javax.servlet.jsp-api` (JSP API, scope: provided)
        *   `[]` `javax.servlet:jstl` (JSTL)
        *   `[]` `mysql:mysql-connector-java` (MySQL JDBCé©±åŠ¨, ç‰ˆæœ¬ä¸MySQLæœåŠ¡å™¨å…¼å®¹)
        *   `[]` `commons-fileupload:commons-fileupload` (ç”¨äºæ–‡ä»¶ä¸Šä¼ )
        *   `[]` `commons-io:commons-io` (å¯é€‰, commons-fileupload å¯èƒ½ä¾èµ–)
        *   `[]` (å¯é€‰, æ¨è) Logging framework: `org.slf4j:slf4j-api` + `ch.qos.logback:logback-classic` (æˆ– Log4j2)ã€‚
    *   ç¡®ä¿ Maven ä¾èµ–æ­£ç¡®ä¸‹è½½ã€‚
*   `[âœ…]` **é…ç½®é¡¹ç›®éƒ¨ç½²:** ğŸ‘¤
    *   åœ¨ IDE ä¸­é…ç½® Tomcat æœåŠ¡å™¨ (ç‰ˆæœ¬ 9.x æˆ–ä¸ Servlet API å…¼å®¹çš„ç‰ˆæœ¬)ã€‚
    *   å°† Maven é¡¹ç›®æ„å»ºçš„ WAR åŒ…éƒ¨ç½²åˆ° Tomcatã€‚
    *   å¯åŠ¨ Tomcat æœåŠ¡å™¨å¹¶ç¡®ä¿å¯ä»¥è®¿é—®é¡¹ç›®é»˜è®¤å…¥å£ (ä¾‹å¦‚ `http://localhost:8080/PinXiXi_shop/`)ã€‚
*   `[âœ…]` **å»ºç«‹ç‰ˆæœ¬æ§åˆ¶:** ğŸ‘¤
    *   åœ¨é¡¹ç›®æ ¹ç›®å½•åˆå§‹åŒ– Git ä»“åº“ (`git init`)ã€‚
    *   åˆ›å»º `.gitignore` æ–‡ä»¶ï¼Œå¿½ç•¥ IDE ç‰¹å®šæ–‡ä»¶ã€ç¼–è¯‘è¾“å‡º (`target/`) ç­‰ã€‚
    *   è¿›è¡Œé¦–æ¬¡æäº¤ (`git add .`, `git commit -m "Initial project setup"`).

## 1. åŸºç¡€æ¶æ„ä¸æ ¸å¿ƒç»„ä»¶

#### 1.1 é¡¹ç›®åŒ…ç»“æ„åˆ›å»º

*   `[âœ…]` æ ¹æ® `é¡¹ç›®ç»“æ„.md` åœ¨ `src/main/java` ä¸‹åˆ›å»ºåŸºç¡€åŒ…å `com.yycy`ã€‚
*   `[âœ…]` åœ¨ `com.yycy` ä¸‹åˆ›å»ºå­åŒ…: `controller`, `dao`, `dao.impl`, `entity`, `service`, `service.impl`, `filter`, `util`ã€‚
*   `[âœ…]` åœ¨ `src/main/webapp` ä¸‹åˆ›å»ºç›®å½•ç»“æ„: `WEB-INF`, `WEB-INF/lib` (å¦‚æœæ‰‹åŠ¨ç®¡ç†JSTLç­‰jaråŒ…), `WEB-INF/jsp`, `images`, `images/banner`, `images/products`, `images/tou_xiang`ã€‚
*   `[âœ…]` å°†é¢„ç½®çš„å›¾ç‰‡èµ„æºï¼ˆlogo.png, bannerå›¾ç‰‡, å•†å“å›¾ç‰‡, ç¤ºä¾‹å¤´åƒï¼‰æ‹·è´åˆ°å¯¹åº”çš„ `images` å­ç›®å½•ä¸‹ã€‚ ğŸ‘¤

#### 1.2 å®ä½“ç±» (Entity / POJO) å®šä¹‰

*   `[âœ…]` **User.java (`com.yycy.entity`):**
    *   å®šä¹‰ `id (int)`, `username (String)`, `password (String)`, `nickname (String)`, `email (String)`, `phone (String)`, `gender (String)`, `avatar_path (String)`, `created_at (Timestamp)`, `updated_at (Timestamp)` å­—æ®µã€‚
    *   æä¾›æ— å‚æ„é€ å‡½æ•°ã€å…¨å‚æ„é€ å‡½æ•° (æˆ–æŒ‰éœ€)ã€æ‰€æœ‰å­—æ®µçš„ getter/setter æ–¹æ³•, `toString()` (å¯é€‰, ä¾¿äºè°ƒè¯•)ã€‚
*   `[âœ…]` **Product.java (`com.yycy.entity`):**
    *   å®šä¹‰ `id (int)`, `name (String)`, `description (String)`, `price (BigDecimal)`, `image_url (String)`, `sales_volume (int)`, `created_at (Timestamp)`, `updated_at (Timestamp)` å­—æ®µã€‚
    *   æä¾›æ„é€ å‡½æ•°ã€getter/setter æ–¹æ³•, `toString()`ã€‚
*   `[âœ…]` **Address.java (`com.yycy.entity`):**
    *   å®šä¹‰ `id (int)`, `user_id (int)`, `province (String)`, `city (String)`, `district (String)`, `detail_address (String)`, `created_at (Timestamp)`, `updated_at (Timestamp)` å­—æ®µã€‚
    *   æä¾›æ„é€ å‡½æ•°ã€getter/setter æ–¹æ³•, `toString()`ã€‚
*   `[âœ…]` **CartItem.java (`com.yycy.entity` - éæŒä¹…åŒ–):**
    *   å®šä¹‰ `product (Product)` å’Œ `quantity (int)` å­—æ®µã€‚
    *   æä¾›æ„é€ å‡½æ•°ã€getter/setter æ–¹æ³•ã€‚
    *   æ·»åŠ è®¡ç®—å°è®¡é‡‘é¢çš„æ–¹æ³• `public BigDecimal getSubtotal() { return product.getPrice().multiply(new BigDecimal(quantity)); }`ã€‚
*   `[âœ…]` **Cart.java (`com.yycy.entity` - éæŒä¹…åŒ–, å­˜å‚¨äº Session):**
    *   å®šä¹‰ `private Map<Integer, CartItem> items = new LinkedHashMap<>();` (ä½¿ç”¨ `LinkedHashMap` ä¿æŒæ’å…¥é¡ºåºï¼Œç¬¦åˆRFCè´­ç‰©è½¦å•†å“æ’åºè¦æ±‚)ã€‚
    *   æä¾›æ–¹æ³•:
        *   `[]` `addItem(Product product, int quantity)`: æ·»åŠ æˆ–æ›´æ–°å•†å“é¡¹ã€‚
        *   `[]` `removeItem(int productId)`: åˆ é™¤å•†å“é¡¹ã€‚
        *   `[]` `updateItemQuantity(int productId, int quantity)`: æ›´æ–°å•†å“æ•°é‡ã€‚
        *   `[]` `clearCart()`: æ¸…ç©ºè´­ç‰©è½¦ã€‚
        *   `[]` `getTotalPrice()`: è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢ã€‚
        *   `[]` `getItems()`: è·å–æ‰€æœ‰è´­ç‰©è½¦é¡¹ã€‚
        *   `[]` `getTotalItemsCount()`: è·å–è´­ç‰©è½¦ä¸­å•†å“çš„æ€»ä»¶æ•° (ç”¨äºå¯¼èˆªæ è§’æ ‡)ã€‚

#### 1.3 æ•°æ®åº“å·¥å…·ç±» (DBUtil.java - `com.yycy.util`)

*   `[âœ…]` å®šä¹‰æ•°æ®åº“è¿æ¥å‚æ•°ä¸ºé™æ€å¸¸é‡ (URL, USER, PASSWORD)ã€‚ **[æŠ€æœ¯è€ƒé‡]** ç”Ÿäº§ç¯å¢ƒåº”ä½¿ç”¨æ›´å®‰å…¨çš„é…ç½®æ–¹å¼ã€‚
*   `[âœ…]` å®ç°é™æ€æ–¹æ³• `getConnection()`:
    *   åŠ è½½ MySQL JDBC é©±åŠ¨ (`Class.forName("com.mysql.cj.jdbc.Driver");`)ã€‚
    *   ä½¿ç”¨ `DriverManager.getConnection()` è·å–è¿æ¥ã€‚
    *   å¤„ç† `SQLException` å’Œ `ClassNotFoundException`ã€‚
*   `[âœ…]` å®ç°é™æ€æ–¹æ³• `close(Connection conn, Statement stmt, ResultSet rs)`:
    *   åˆ†åˆ«æ£€æŸ¥ `rs`, `stmt`, `conn` æ˜¯å¦ä¸º nullï¼Œç„¶åå…³é—­ã€‚
    *   æ•è·å¹¶å¤„ç†å…³é—­æ—¶å¯èƒ½å‘ç”Ÿçš„ `SQLException`ã€‚
*   `[âœ…]` å®ç°é™æ€æ–¹æ³• `close(Connection conn, Statement stmt)` (é‡è½½)ã€‚

#### 1.4 æ•°æ®è®¿é—®å±‚ (DAO) æ¥å£å®šä¹‰ (`com.yycy.dao`)

*   `[âœ…]` **IUserDao.java:**
    *   `User findByUsername(String username) throws SQLException;`
    *   `User findById(int id) throws SQLException;`
    *   `void save(User user) throws SQLException;` (ç”¨äºæ³¨å†Œ)
    *   `void update(User user) throws SQLException;` (ç”¨äºä¸ªäººä¿¡æ¯ã€å¯†ç ã€å¤´åƒæ›´æ–°)
*   `[âœ…]` **IProductDao.java:**
    *   `List<Product> findAll() throws SQLException;`
    *   `Product findById(int id) throws SQLException;`
    *   `List<Product> findByNameContaining(String nameKeyword) throws SQLException;`
*   `[âœ…]` **IAddressDao.java:**
    *   `Address findByUserId(int userId) throws SQLException;`
    *   `void save(Address address) throws SQLException;`
    *   `void update(Address address) throws SQLException;`
    *   (RFCæœªæ˜ç¡®åˆ é™¤ï¼Œä½†å•ä¸€åœ°å€ç®¡ç†ä¸‹ï¼Œæ›´æ–°å³è¦†ç›–ï¼Œæˆ–å¯æ·»åŠ  `deleteByUserId` è‹¥æœ‰æ­¤éœ€æ±‚)

#### 1.5 æœåŠ¡å±‚ (Service) æ¥å£å®šä¹‰ (`com.yycy.service`)

*   `[âœ…]` **IUserService.java:**
    *   `User login(String username, String password);`
    *   `boolean register(User user);` (å‚æ•°å¯ç»†åŒ–ä¸º `String username, String password`)
    *   `User getUserById(int id);`
    *   `boolean updateUserProfile(User user);`
    *   `boolean changePassword(int userId, String oldPassword, String newPassword);`
    *   `boolean updateUserAvatar(int userId, String avatarPath);`
*   `[âœ…]` **IProductService.java:**
    *   `List<Product> getAllProducts();`
    *   `Product getProductById(int id);`
    *   `List<Product> searchProductsByName(String nameKeyword);`
*   `[âœ…]` **ICartService.java (æ“ä½œ Session ä¸­çš„ Cart å¯¹è±¡):**
    *   `Cart getCart(HttpSession session);`
    *   `void addProductToCart(HttpSession session, int productId, int quantity);`
    *   `void removeProductFromCart(HttpSession session, int productId);`
    *   `void updateProductQuantityInCart(HttpSession session, int productId, int newQuantity);`
    *   `void clearCart(HttpSession session);`
*   `[âœ…]` **IAddressService.java:**
    *   `Address getAddressByUserId(int userId);`
    *   `boolean saveOrUpdateAddress(Address address);`

#### 1.6 DAO å’Œ Service çš„å®ç°ç±»éª¨æ¶ (`com.yycy.dao.impl`, `com.yycy.service.impl`)

*   `[âœ…]` åˆ›å»º `UserDaoImpl.java`, `ProductDaoImpl.java`, `AddressDaoImpl.java` å¹¶å®ç°å¯¹åº”æ¥å£ã€‚æ–¹æ³•ä½“æš‚æ—¶ç•™ç©ºæˆ– `throw new UnsupportedOperationException();`ã€‚
*   `[âœ…]` åˆ›å»º `UserServiceImpl.java`, `ProductServiceImpl.java`, `CartServiceImpl.java`, `AddressServiceImpl.java` å¹¶å®ç°å¯¹åº”æ¥å£ã€‚
    *   åœ¨å®ç°ç±»ä¸­å£°æ˜å¯¹åº”çš„ DAO æ¥å£ä½œä¸ºæˆå‘˜å˜é‡ã€‚
    *   æä¾›æ„é€ å‡½æ•°æˆ– setter æ–¹æ³•æ³¨å…¥ DAO ä¾èµ– (å¯¹äºæœŸæœ«é¡¹ç›®ï¼Œç®€å• `new DaoImpl()` ä¹Ÿå¯æ¥å—ï¼Œä½†ä¸åˆ©äºæµ‹è¯•å’Œæ‰©å±•)ã€‚

#### 1.7 åŸºç¡€ JSP é¡µé¢ä¸å…¬å…±ç‰‡æ®µ (`src/main/webapp`)

*   `[âœ…]` **web.xml é…ç½® (åˆæ­¥):**
    *   é…ç½®æ¬¢è¿æ–‡ä»¶åˆ—è¡¨: `<welcome-file-list><welcome-file>index.jsp</welcome-file></welcome-file-list>`ã€‚
    *   å®šä¹‰å­—ç¬¦ç¼–ç è¿‡æ»¤å™¨ `CharacterEncodingFilter`:
        *   `[âœ…]` åˆ›å»º `com.yycy.filter.CharacterEncodingFilter.java` å®ç° `javax.servlet.Filter`ã€‚
        *   `[âœ…]` åœ¨ `doFilter` ä¸­è®¾ç½® `request.setCharacterEncoding("UTF-8");` å’Œ `response.setContentType("text/html;charset=UTF-8");` (æˆ– `response.setCharacterEncoding("UTF-8");`)ã€‚
        *   `[âœ…]` åœ¨ `web.xml` ä¸­æ³¨å†Œæ­¤ Filter å¹¶æ˜ å°„åˆ° `/*`ï¼Œç¡®ä¿å®ƒåœ¨å…¶ä»–ä¸šåŠ¡ Filter ä¹‹å‰ã€‚
*   `[âœ…]` **index.jsp:** å†…å®¹ä¸º `<% response.sendRedirect(request.getContextPath() + "/home"); %>` æˆ–ä½¿ç”¨ JSTL `<c:redirect url="/home"/>`ã€‚
*   `[âœ…]` **WEB-INF/jsp/error.jsp:** é€šç”¨é”™è¯¯é¡µé¢ï¼Œå¯æ˜¾ç¤º `requestScope.errorMessage`ã€‚æ¯ä¸ªJSPé¡µé¢å°†å†…è”å…¶å®Œæ•´çš„HTMLç»“æ„ï¼ŒåŒ…æ‹¬`<head>` (å«Bootstrap CDNé“¾æ¥) å’Œ `<body>` (å«å¯¼èˆªæ å’Œé¡µè„šé€»è¾‘)ã€‚
*   `[âœ…]` **WEB-INF/jsp/productNotFound.jsp:** å•†å“æœªæ‰¾åˆ°æç¤ºé¡µé¢ã€‚æ¯ä¸ªJSPé¡µé¢å°†å†…è”å…¶å®Œæ•´çš„HTMLç»“æ„ã€‚

#### 1.8 è®¤è¯è¿‡æ»¤å™¨ (AuthenticationFilter.java - `com.yycy.filter`)

*   `[âœ…]` åˆ›å»º `AuthenticationFilter.java` å®ç° `javax.servlet.Filter`ã€‚
*   `[âœ…]` åœ¨ `init` æ–¹æ³•ä¸­åˆå§‹åŒ–å—ä¿æŠ¤è·¯å¾„åˆ—è¡¨å’Œå…¬å…±è·¯å¾„åˆ—è¡¨ã€‚
    *   `private Set<String> protectedPaths = new HashSet<>(Arrays.asList("/profile", "/cart", "/checkout", "/submitOrder", "/addToCart", "/updateCartItem", "/removeCartItem", "/saveAddress", "/changePassword", "/uploadAvatar"));` (æ ¹æ®å®é™…Servletè·¯å¾„è°ƒæ•´, ç‰¹åˆ«æ˜¯å¤„ç†åŠ¨ä½œçš„è·¯å¾„)
    *   `private Set<String> publicPaths = new HashSet<>(Arrays.asList("/login", "/register", "/logout", "/home", "/productDetail", "/index.jsp"));`
*   `[âœ…]` åœ¨ `doFilter` æ–¹æ³•ä¸­:
    *   è·å– `HttpServletRequest req`, `HttpServletResponse res`, `HttpSession session`ã€‚
    *   è·å–è¯·æ±‚çš„ `String servletPath = req.getServletPath();`ã€‚
    *   æ£€æŸ¥é™æ€èµ„æº (å¦‚ `/css/`, `/js/`, `/images/`)ï¼Œå¦‚æœæ˜¯åˆ™ `chain.doFilter`ã€‚ (æ³¨æ„ï¼šå¦‚æœé¡¹ç›®ä¸­æ²¡æœ‰å…¨å±€ `/css/` å’Œ `/js/` ç›®å½•ï¼Œæ­¤æ£€æŸ¥å¯èƒ½éœ€è¦è°ƒæ•´æˆ–ç§»é™¤)
    *   `User loggedInUser = (User) session.getAttribute("loggedInUser");`
    *   å¦‚æœ `servletPath` åœ¨ `protectedPaths` ä¸­ä¸” `loggedInUser == null`:
        *   `session.setAttribute("redirectUrlAfterLogin", req.getRequestURI() + (req.getQueryString() != null ? "?" + req.getQueryString() : ""));` (å¯é€‰ï¼šä¿å­˜åŸå§‹è¯·æ±‚ä»¥ä¾¿ç™»å½•åè·³è½¬å›å»)
        *   `res.sendRedirect(req.getContextPath() + "/login");`
        *   `return;`
    *   å¦åˆ™, `chain.doFilter(request, response);`
*   `[âœ…]` åœ¨ `web.xml` ä¸­æ³¨å†Œ `AuthenticationFilter` å¹¶é…ç½®å…¶ `url-pattern` ä¸º `/*`ã€‚ç¡®ä¿å®ƒåœ¨ `CharacterEncodingFilter` ä¹‹åã€‚

---

## 2. é¦–é¡µæ¨¡å— (Homepage Module)

#### 2.1 DAO å±‚å®ç° (ProductDaoImpl.java)

*   `[âœ…]` **å®ç° `findAll()` æ–¹æ³•:**
    *   ä½¿ç”¨ `DBUtil` è·å–è¿æ¥å’Œå…³é—­èµ„æºã€‚
    *   SQL: `SELECT * FROM products ORDER BY id ASC` (æˆ– RFC é»˜è®¤é¡ºåº)ã€‚
    *   éå† `ResultSet`, åˆ›å»º `Product` å¯¹è±¡å¹¶æ·»åŠ åˆ° `List`ã€‚
    *   ç¼–å†™å•å…ƒæµ‹è¯• (éœ€è¦æ•°æ®åº“è¿æ¥æˆ– Mock)ã€‚
*   `[âœ…]` **å®ç° `findByNameContaining(String nameKeyword)` æ–¹æ³•:**
    *   SQL: `SELECT * FROM products WHERE name LIKE ? ORDER BY id ASC`ã€‚
    *   ä½¿ç”¨ `PreparedStatement`ï¼Œè®¾ç½®å‚æ•° `"%"+nameKeyword+"%"`ã€‚
    *   æ˜ å°„ç»“æœã€‚
    *   ç¼–å†™å•å…ƒæµ‹è¯•ã€‚
*   `[âœ…]` **å®ç° `findById(int id)` æ–¹æ³•:** (å•†å“è¯¦æƒ…æ¨¡å—ä¼šç”¨åˆ°ï¼Œæ­¤å¤„ä¸€å¹¶å®ç°)
    *   SQL: `SELECT * FROM products WHERE id = ?`ã€‚
    *   æ˜ å°„ç»“æœã€‚
    *   ç¼–å†™å•å…ƒæµ‹è¯•ã€‚

#### 2.2 Service å±‚å®ç° (ProductServiceImpl.java)

*   `[âœ…]` æ³¨å…¥ `IProductDao productDao = new ProductDaoImpl();` (æˆ–é€šè¿‡æ„é€ å‡½æ•°æ³¨å…¥)ã€‚
*   `[âœ…]` **å®ç° `getAllProducts()` æ–¹æ³•:** è°ƒç”¨ `productDao.findAll()`ï¼Œå¤„ç† `SQLException` (ä¾‹å¦‚åŒ…è£…æˆ RuntimeException æˆ–è¿”å›ç©ºåˆ—è¡¨)ã€‚
*   `[âœ…]` **å®ç° `searchProductsByName(String nameKeyword)` æ–¹æ³•:** è°ƒç”¨ `productDao.findByNameContaining(nameKeyword)`ã€‚
*   `[âœ…]` **å®ç° `getProductById(int id)` æ–¹æ³•:** è°ƒç”¨ `productDao.findById(id)`ã€‚

#### 2.3 æ§åˆ¶å™¨å±‚ (HomeServlet.java - `com.yycy.controller`)

*   `[âœ…]` åˆ›å»º `HomeServlet.java` ç»§æ‰¿ `HttpServlet`ã€‚
*   `[âœ…]` æ³¨å…¥ `IProductService productService = new ProductServiceImpl();`ã€‚
*   `[âœ…]` **é‡å†™ `doGet(HttpServletRequest request, HttpServletResponse response)` æ–¹æ³•:**
    *   è·å– `searchKeyword` å‚æ•°ã€‚
    *   è°ƒç”¨ `productService` è·å–å•†å“åˆ—è¡¨ã€‚
    *   å°†å•†å“åˆ—è¡¨å­˜å…¥ `request.setAttribute("products", productsList);`ã€‚
    *   è‹¥æœç´¢æ— ç»“æœï¼Œè®¾ç½® `request.setAttribute("noResultsMessage", "...");`ã€‚
    *   è½¬å‘åˆ° `/WEB-INF/jsp/home.jsp`ã€‚
*   `[âœ…]` (å¯é€‰) `doPost` è°ƒç”¨ `doGet`ã€‚
*   `[âœ…]` åœ¨ `web.xml` ä¸­æ³¨å†Œ `HomeServlet`ï¼Œæ˜ å°„åˆ° `/home` å’Œ `/index` (æˆ–åªæ˜ å°„ `/home`ï¼Œ`index.jsp` é‡å®šå‘åˆ° `/home`)ã€‚

#### 2.4 è§†å›¾å±‚ (WEB-INF/jsp/home.jsp)

*   `[âœ…]` `home.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
    *   **Head:** HTML5 æ–‡æ¡£ç±»å‹, `<meta charset="UTF-8">`, `<title>`, Bootstrap 5 CSS (CDN)ã€‚
    *   **Navigation:** Bootstrap Navbar, Logo, æœç´¢æ¡†, åŠ¨æ€é“¾æ¥ (ç™»å½•/æ³¨å†Œ/ä¸ªäººä¸­å¿ƒ/è´­ç‰©è½¦/é€€å‡º)ã€‚
*   `[âœ…]` **è½®æ’­å›¾:** ä½¿ç”¨ Bootstrap Carouselï¼ŒåµŒå…¥ 3 å¼ å›ºå®šçš„ `images/banner/` å›¾ç‰‡ã€‚
*   `[âœ…]` **å•†å“åˆ—è¡¨:**
    *   ä½¿ç”¨ Bootstrap Grid (`<div class="row">`) å’Œ Cards (`<div class="col-md-3 mb-4"> <div class="card"> ... </div> </div>`)ã€‚
    *   JSTL `c:forEach var="product" items="${products}"`:
        *   Card Image: `<img src="${pageContext.request.contextPath}/${product.imageUrl}" class="card-img-top">`
        *   Card Body:
            *   Name: `<h5 class="card-title"><a href="${pageContext.request.contextPath}/productDetail?id=${product.id}">${product.name}</a></h5>`
            *   Price: `<p class="card-text">Â¥${product.price}</p>`
            *   "åŠ å…¥è´­ç‰©è½¦"æŒ‰é’®: `<a href="${pageContext.request.contextPath}/cart?action=add&productId=${product.id}&quantity=1" class="btn btn-primary add-to-cart-btn">åŠ å…¥è´­ç‰©è½¦</a>` (åç»­JSä¼šå¢å¼ºæ­¤æŒ‰é’®ï¼Œåˆ¤æ–­ç™»å½•çŠ¶æ€)ã€‚
    *   JSTL `c:if test="${not empty noResultsMessage}"`: æ˜¾ç¤ºæ— ç»“æœæç¤ºã€‚
*   `[âœ…]` **JavaScript for "åŠ å…¥è´­ç‰©è½¦" (åœ¨ `home.jsp` å†…):**
    *   ä¸º `add-to-cart-btn` æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬ã€‚
    *   æ£€æŸ¥ `sessionScope.loggedInUser` (å¯ä»¥é€šè¿‡åç«¯JSPè¾“å‡ºä¸€ä¸ªJSå˜é‡åˆ¤æ–­ï¼Œæˆ–è€…æŒ‰é’®çš„ `href` æ ¹æ®ç™»å½•çŠ¶æ€åŠ¨æ€ç”Ÿæˆ)ã€‚
    *   å¦‚æœæœªç™»å½•ï¼Œ`alert("è¯·å…ˆç™»å½•ï¼"); window.location.href = "${pageContext.request.contextPath}/login"; return false;`ã€‚
    *   (å¯é€‰ AJAX åŠ å…¥è´­ç‰©è½¦ä»¥è·å¾—æ›´å¥½ä½“éªŒï¼Œä½†å¯¹äºæœŸæœ«é¡¹ç›®ï¼Œç›´æ¥è·³è½¬ä¹Ÿå¯)ã€‚
*   `[âœ…]` **Footer:** `<footer>` æ ‡ç­¾åŒ…å«ç‰ˆæƒä¿¡æ¯, Bootstrap 5 JS Bundle (CDN)ã€‚
*   `[âœ…]` **æµ‹è¯•:** é¦–é¡µå±•ç¤ºã€æœç´¢ã€è½®æ’­ã€å•†å“é“¾æ¥ã€æœªç™»å½•æ—¶åŠ å…¥è´­ç‰©è½¦è·³è½¬ã€‚

---

## 3. ç”¨æˆ·è®¤è¯æ¨¡å— (Registration, Login, Logout)

#### 3.1 DAO å±‚å®ç° (UserDaoImpl.java)

*   `[âœ…]` **å®ç° `findByUsername(String username)` æ–¹æ³•:** SQL `SELECT * FROM users WHERE username = ?`ã€‚
*   `[âœ…]` **å®ç° `save(User user)` æ–¹æ³•:** SQL `INSERT INTO users (username, password, created_at, updated_at) VALUES (?, ?, NOW(), NOW())` (æ³¨å†Œæ—¶ä»…å­˜ç”¨æˆ·åå’Œå¯†ç ï¼Œå…¶ä»–ä¿¡æ¯åç»­è¡¥å……ï¼Œ`NOW()`ç”¨äºæ—¶é—´æˆ³)ã€‚
*   `[âœ…]` **å®ç° `findById(int id)` æ–¹æ³•:** SQL `SELECT * FROM users WHERE id = ?`ã€‚
*   `[âœ…]` **å®ç° `update(User user)` æ–¹æ³•:** (ä¸ªäººä¸­å¿ƒç”¨ï¼Œæ­¤å¤„å…ˆå®ç°éª¨æ¶) SQL `UPDATE users SET nickname=?, email=?, phone=?, gender=?, avatar_path=?, updated_at=NOW() WHERE id=?` (æ ¹æ®å®é™…æ›´æ–°å­—æ®µè°ƒæ•´)ã€‚ä¿®æ”¹å¯†ç æ˜¯ç‹¬ç«‹é€»è¾‘ã€‚

#### 3.2 Service å±‚å®ç° (UserServiceImpl.java)

*   `[âœ…]` æ³¨å…¥ `IUserDao userDao = new UserDaoImpl();`ã€‚
*   `[âœ…]` **å®ç° `register(User user)` (æˆ– `register(String username, String password)`) æ–¹æ³•:**
    *   æ£€æŸ¥ `userDao.findByUsername(username)` æ˜¯å¦å·²å­˜åœ¨ã€‚
    *   æ ¡éªŒå¯†ç é•¿åº¦ (>=6)ã€‚
    *   åˆ›å»º `User` å¯¹è±¡ï¼Œè®¾ç½®ç”¨æˆ·åå’Œå¯†ç ã€‚
    *   è°ƒç”¨ `userDao.save(newUser)`ã€‚
    *   **[å®‰å…¨æç¤º]** RFCè¦æ±‚æ˜æ–‡å¯†ç ã€‚å®é™…é¡¹ç›®ä¸­åº”å“ˆå¸Œå¯†ç ã€‚
*   `[âœ…]` **å®ç° `login(String username, String password)` æ–¹æ³•:**
    *   `User user = userDao.findByUsername(username);`
    *   å¦‚æœ `user != null` ä¸” `user.getPassword().equals(password)` (æ˜æ–‡æ¯”è¾ƒ)ï¼Œè¿”å› `user`ã€‚å¦åˆ™è¿”å› `null`ã€‚
*   `[âœ…]` **å®ç° `getUserById(int id)` æ–¹æ³•:** è°ƒç”¨ `userDao.findById(id)`ã€‚

#### 3.3 æ³¨å†Œæ¨¡å— (RegisterServlet.java & WEB-INF/jsp/register.jsp)

*   `[âœ…]` **WEB-INF/jsp/register.jsp:**
    *   `register.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
    *   è¡¨å• (`method="post" action="${pageContext.request.contextPath}/register"`): ç”¨æˆ·å, å¯†ç , ç¡®è®¤å¯†ç è¾“å…¥æ¡†ã€‚
    *   æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ (`${requestScope.errorMessage}` æˆ– `${requestScope.errors.fieldName}`), æˆåŠŸæ¶ˆæ¯ã€‚
    *   "å·²æœ‰è´¦å·ï¼Ÿå»ç™»å½•"é“¾æ¥ã€‚
*   `[âœ…]` **RegisterServlet.java:**
    *   `doGet`: è½¬å‘åˆ° `register.jsp`ã€‚
    *   `doPost`:
        *   è·å–å‚æ•°, åç«¯æ ¡éªŒ (éç©º, å¯†ç é•¿åº¦, ä¸¤æ¬¡å¯†ç ä¸€è‡´)ã€‚
        *   æ ¡éªŒå¤±è´¥åˆ™è®¾ç½®é”™è¯¯ä¿¡æ¯å¹¶è½¬å‘å› `register.jsp`ã€‚
        *   è°ƒç”¨ `userService.register(username, password)`ã€‚
        *   æˆåŠŸ: è°ƒç”¨ `userService.login(username, password)` è·å–å®Œæ•´Userå¯¹è±¡, å­˜å…¥ Session (`session.setAttribute("loggedInUser", registeredUser)`), é‡å®šå‘åˆ° `/profile`ã€‚
        *   å¤±è´¥ (ç”¨æˆ·åå·²å­˜åœ¨): è®¾ç½®é”™è¯¯ä¿¡æ¯ï¼Œè½¬å‘å› `register.jsp`ã€‚
*   `[âœ…]` `web.xml`: æ³¨å†Œ `RegisterServlet` åˆ° `/register`ã€‚
*   `[âœ…]` **æµ‹è¯•:** å„ç§æ ¡éªŒï¼Œé‡å¤æ³¨å†Œï¼ŒæˆåŠŸæ³¨å†Œå¹¶è‡ªåŠ¨ç™»å½•è·³è½¬ã€‚

#### 3.4 ç™»å½•æ¨¡å— (LoginServlet.java & WEB-INF/jsp/login.jsp)

*   `[âœ…]` **WEB-INF/jsp/login.jsp:**
    *   `login.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
    *   è¡¨å• (`method="post" action="${pageContext.request.contextPath}/login"`): ç”¨æˆ·å, å¯†ç è¾“å…¥æ¡†ã€‚
    *   æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯ (`${requestScope.errorMessage}`), æˆåŠŸæ¶ˆæ¯ã€‚
    *   "æ²¡æœ‰è´¦å·ï¼Ÿå»æ³¨å†Œ"é“¾æ¥ã€‚
*   `[âœ…]` **LoginServlet.java:**
    *   `doGet`: è½¬å‘åˆ° `login.jsp`ã€‚
    *   `doPost`:
        *   è·å–å‚æ•°ã€‚
        *   è°ƒç”¨ `userService.login(username, password)`ã€‚
        *   æˆåŠŸ: `User user` å¯¹è±¡å­˜å…¥ Session, é‡å®šå‘åˆ° `/home` (æˆ–ä¹‹å‰ä¿å­˜çš„ `redirectUrlAfterLogin`)ã€‚
        *   å¤±è´¥: è®¾ç½®é”™è¯¯ä¿¡æ¯ï¼Œè½¬å‘å› `login.jsp`ã€‚
*   `[âœ…]` `web.xml`: æ³¨å†Œ `LoginServlet` åˆ° `/login`ã€‚
*   `[âœ…]` **æµ‹è¯•:** é”™è¯¯å‡­è¯ï¼ŒæˆåŠŸç™»å½•ï¼Œå¯¼èˆªæ æ›´æ–°ï¼Œè®¿é—®å—ä¿æŠ¤é¡µé¢ã€‚

#### 3.5 ç™»å‡ºæ¨¡å— (LogoutServlet.java)

*   `[]` **LogoutServlet.java:**
    *   `doGet` (æˆ– `doPost`): `session.invalidate()`, é‡å®šå‘åˆ° `/home`ã€‚
*   `[]` `web.xml`: æ³¨å†Œ `LogoutServlet` åˆ° `/logout`ã€‚
*   `[]` **æµ‹è¯•:** ç™»å‡ºå Session å¤±æ•ˆï¼Œå¯¼èˆªæ æ›´æ–°ã€‚

#### 3.6 æ›´æ–° AuthenticationFilter (å·²åœ¨1.8ä¸­åˆæ­¥å®Œæˆ)

*   `[]` ä»”ç»†æ£€æŸ¥ `protectedPaths` å’Œ `publicPaths` (æˆ– `excludedPaths`) æ˜¯å¦è¦†ç›–æ‰€æœ‰æƒ…å†µï¼Œç‰¹åˆ«æ˜¯å¯¹ `action` å‚æ•°çš„ Servletã€‚
*   `[]` **æµ‹è¯•è¿‡æ»¤å™¨:** å½»åº•æµ‹è¯•æ‰€æœ‰è·¯å¾„çš„è®¿é—®æ§åˆ¶ã€‚

---

## 4. å•†å“è¯¦æƒ…æ¨¡å— (Product Detail Module)

#### 4.1 æ§åˆ¶å™¨å±‚ (ProductServlet.java - `com.yycy.controller`)

*   `[]` åˆ›å»º `ProductServlet.java` (æˆ– `ProductDetailServlet.java`)ã€‚
*   `[]` æ³¨å…¥ `IProductService productService = new ProductServiceImpl();`ã€‚
*   `[]` **`doGet` æ–¹æ³•:**
    *   è·å– `productId` å‚æ•°ã€‚æ ¡éªŒæ˜¯å¦ä¸ºæœ‰æ•ˆæ•°å­—ã€‚
    *   è°ƒç”¨ `productService.getProductById(id)`ã€‚
    *   å¦‚æœå•†å“ä¸å­˜åœ¨ï¼Œè½¬å‘åˆ° `/WEB-INF/jsp/productNotFound.jsp`ã€‚
    *   å¦‚æœå•†å“å­˜åœ¨ï¼Œå°† `product` å¯¹è±¡å­˜å…¥ `request`ã€‚
    *   **è¿·ä½ å•†å“å¯¼èˆªåˆ—è¡¨:** è·å–æ‰€æœ‰å•†å“ `List<Product> allProducts = productService.getAllProducts();` å¹¶å­˜å…¥ `request.setAttribute("allProductsForNav", allProducts);`ã€‚
    *   è½¬å‘åˆ° `/WEB-INF/jsp/productDetail.jsp`ã€‚
*   `[]` `web.xml`: æ³¨å†Œ `ProductServlet` åˆ° `/productDetail`ã€‚

#### 4.2 è§†å›¾å±‚ (WEB-INF/jsp/productDetail.jsp)

*   `[]` `productDetail.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
*   `[]` **é¡µé¢å¸ƒå±€ (ä¾‹å¦‚ Bootstrap Grid: å·¦ä¾§å›¾ç‰‡ï¼Œå³ä¾§ä¿¡æ¯):**
    *   **å·¦ä¾§å›¾ç‰‡åŒºåŸŸ:**
        *   ä¸»å›¾ç‰‡: `<img id="mainProductImage" src="${pageContext.request.contextPath}/${product.imageUrl}" class="img-fluid">`ã€‚
        *   ç¼©ç•¥å›¾åˆ—è¡¨ (å‡è®¾å•†å“å›¾ç‰‡URLæ ¼å¼ä¸º `base_url.jpg`, `base_url_thumb1.jpg`, `base_url_thumb2.jpg` æˆ–ä»æ•°æ®åº“è·å–å¤šå›¾ä¿¡æ¯ã€‚RFCæœªæ˜ç¡®å¤šå›¾æ¥æºï¼Œç®€åŒ–å¤„ç†ï¼šå¯å±•ç¤ºåŒä¸€ä¸»å›¾çš„å¤šä¸ªå‰¯æœ¬æˆ–é¢„è®¾å‡ å¼ ä¸åŒå›¾ç‰‡è·¯å¾„):
            *   `<img src="..." class="thumbnail-img" data-large-src="...">` (ç‚¹å‡»ç¼©ç•¥å›¾ç”¨JSæ›´æ–° `mainProductImage` çš„ `src`)ã€‚
            *   RFC æåŠ 3-4 å¼ ç¼©ç•¥å›¾ï¼Œè‹¥æ— é¢å¤–å›¾ç‰‡å­—æ®µï¼Œå¯é‡å¤ä¸»å›¾æˆ–é¢„ç•™é™æ€å›¾ç‰‡ã€‚
    *   **å³ä¾§ä¿¡æ¯åŒºåŸŸ:**
        *   å•†å“åç§°: `<h1>${product.name}</h1>`ã€‚
        *   å•†å“ä»·æ ¼: `<p class="h3">Â¥${product.price}</p>`ã€‚
        *   å•†å“è¯¦ç»†æè¿°: `<p>${product.description}</p>`ã€‚
        *   **æ•°é‡é€‰æ‹©å™¨:**
            *   `<button id="decreaseQty">-</button> <input type="number" id="quantity" value="1" min="1"> <button id="increaseQty">+</button>`ã€‚
            *   JS æ§åˆ¶æŒ‰é’®è¡Œä¸ºå’Œè¾“å…¥æ¡†å€¼ã€‚
        *   **"åŠ å…¥è´­ç‰©è½¦"æŒ‰é’®:** `<a href="#" id="addToCartDetailBtn" class="btn btn-primary">åŠ å…¥è´­ç‰©è½¦</a>`ã€‚
            *   JS: ç‚¹å‡»æ—¶è·å–é€‰å®šæ•°é‡ï¼Œæ„é€  `href` ä¸º `/cart?action=add&productId=${product.id}&quantity=[selected_qty]`ï¼Œç„¶ååˆ¤æ–­ç™»å½•å¹¶è·³è½¬/æ‰§è¡Œã€‚
        *   **"ç«‹å³è´­ä¹°"æŒ‰é’®:** `<a href="#" id="buyNowBtn" class="btn btn-success">ç«‹å³è´­ä¹°</a>`ã€‚
            *   JS: ç‚¹å‡»æ—¶è·å–é€‰å®šæ•°é‡ï¼Œæ„é€  `href` ä¸º `/checkout?productId=${product.id}&quantity=[selected_qty]` (ç›´æ¥åˆ°ç»“ç®—é¡µ)ï¼Œç„¶ååˆ¤æ–­ç™»å½•å¹¶è·³è½¬/æ‰§è¡Œã€‚
*   `[]` **è¿·ä½ å•†å“å¯¼èˆªåˆ—è¡¨ (é¡µé¢ä¸‹æ–¹æˆ–ä¾§è¾¹):**
    *   `<h3>å…¶ä»–å•†å“</h3>`
    *   ä½¿ç”¨ JSTL `c:forEach var="navProd" items="${allProductsForNav}"`:
        *   æ˜¾ç¤ºå°å‹å•†å“å¡ç‰‡ (å›¾ç‰‡ã€åç§°)ï¼Œé“¾æ¥åˆ°å„è‡ªçš„ `/productDetail?id=${navProd.id}`ã€‚
*   `[]` **JavaScript (é¡µé¢å†…):**
    *   ç¼©ç•¥å›¾ç‚¹å‡»åˆ‡æ¢ä¸»å›¾ã€‚
    *   æ•°é‡é€‰æ‹©å™¨é€»è¾‘ã€‚
    *   "åŠ å…¥è´­ç‰©è½¦"å’Œ"ç«‹å³è´­ä¹°"æŒ‰é’®çš„åŠ¨æ€é“¾æ¥ç”Ÿæˆå’Œç™»å½•æ£€æŸ¥ã€‚
*   `[]` **æµ‹è¯•:** è®¿é—®æœ‰æ•ˆ/æ— æ•ˆå•†å“IDï¼Œå›¾ç‰‡å±•ç¤ºï¼Œä¿¡æ¯å±•ç¤ºï¼Œæ•°é‡è°ƒæ•´ï¼ŒæŒ‰é’®åŠŸèƒ½ (æœªç™»å½•/å·²ç™»å½•)ã€‚

---

## 5. è´­ç‰©è½¦æ¨¡å— (Shopping Cart Module)

#### 5.1 Service å±‚å®ç° (CartServiceImpl.java)

*   `[]` æ³¨å…¥ `IProductService productService = new ProductServiceImpl();` (ç”¨äºé€šè¿‡ productId è·å– Product å¯¹è±¡)ã€‚
*   `[]` **å®ç° `getCart(HttpSession session)`:**
    *   ä» session è·å– `Cart` å¯¹è±¡ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ `new Cart()` å¹¶å­˜å…¥ sessionã€‚
*   `[]` **å®ç° `addProductToCart(HttpSession session, int productId, int quantity)`:**
    *   è·å– `Cart`ã€‚
    *   `Product product = productService.getProductById(productId);`
    *   å¦‚æœ `product != null`ï¼Œè°ƒç”¨ `cart.addItem(product, quantity)`ã€‚
*   `[]` **å®ç° `removeProductFromCart(HttpSession session, int productId)`:** è·å– `Cart`ï¼Œè°ƒç”¨ `cart.removeItem(productId)`ã€‚
*   `[]` **å®ç° `updateProductQuantityInCart(HttpSession session, int productId, int newQuantity)`:** è·å– `Cart`ï¼Œè°ƒç”¨ `cart.updateItemQuantity(productId, newQuantity)`ã€‚
*   `[]` **å®ç° `clearCart(HttpSession session)`:** è·å– `Cart`ï¼Œè°ƒç”¨ `cart.clearCart()`ã€‚

#### 5.2 æ§åˆ¶å™¨å±‚ (CartServlet.java - `com.yycy.controller`)

*   `[]` åˆ›å»º `CartServlet.java`ã€‚
*   `[]` æ³¨å…¥ `ICartService cartService = new CartServiceImpl();`ã€‚
*   `[]` **`doGet` å’Œ `doPost` æ–¹æ³• (æˆ–ç»Ÿä¸€ç”±ä¸€ä¸ªæ–¹æ³•å¤„ç† `action` å‚æ•°):**
    *   è·å– `action` å‚æ•° (`add`, `remove`, `update`, `clear`, `view` - `view` ä¸ºé»˜è®¤æˆ–æ— actionæ—¶)ã€‚
    *   è·å– `HttpSession session = request.getSession();`ã€‚
    *   **`action="add"`:**
        *   è·å– `productId`, `quantity`ã€‚
        *   è°ƒç”¨ `cartService.addProductToCart(session, productId, quantity)`ã€‚
        *   é‡å®šå‘å›æ¥æºé¡µ (å¦‚ `request.getHeader("Referer")`) æˆ–å•†å“åˆ—è¡¨é¡µï¼Œå¹¶é™„å¸¦æˆåŠŸæç¤º (flash message)ã€‚
    *   **`action="remove"`:**
        *   è·å– `productId`ã€‚
        *   è°ƒç”¨ `cartService.removeProductFromCart(session, productId)`ã€‚
        *   é‡å®šå‘åˆ° `/cart?action=view` (æˆ– `/cart`)ã€‚
    *   **`action="update"`:**
        *   è·å– `productId`, `newQuantity`ã€‚
        *   è°ƒç”¨ `cartService.updateProductQuantityInCart(session, productId, newQuantity)`ã€‚
        *   é‡å®šå‘åˆ° `/cart?action=view`ã€‚
    *   **`action="clear"`:**
        *   è°ƒç”¨ `cartService.clearCart(session)`ã€‚
        *   é‡å®šå‘åˆ° `/cart?action=view`ã€‚
    *   **`action="view"` (æˆ–é»˜è®¤):**
        *   `Cart cart = cartService.getCart(session);`
        *   `request.setAttribute("cart", cart);`
        *   è½¬å‘åˆ° `/WEB-INF/jsp/cart.jsp`ã€‚
*   `[]` `web.xml`: æ³¨å†Œ `CartServlet` åˆ° `/cart`ã€‚ (æ³¨æ„ï¼šAuthenticationFilter ä¼šä¿æŠ¤æ­¤è·¯å¾„)

#### 5.3 è§†å›¾å±‚ (WEB-INF/jsp/cart.jsp)

*   `[]` `cart.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
*   `[]` **æ£€æŸ¥è´­ç‰©è½¦æ˜¯å¦ä¸ºç©º (JSTL `c:choose`):**
    *   **`c:when test="${empty cart || empty cart.items}"`:** æ˜¾ç¤º"è´­ç‰©è½¦ä¸ºç©º"æç¤ºå’Œ"å»é€›é€›"é“¾æ¥ã€‚
    *   **`c:otherwise`:** æ˜¾ç¤ºè´­ç‰©è½¦å†…å®¹ã€‚
        *   **å•†å“åˆ—è¡¨ (table æˆ– Bootstrap list group):**
            *   è¡¨å¤´: å›¾ç‰‡, åç§°, å•ä»·, æ•°é‡, å°è®¡, æ“ä½œã€‚
            *   JSTL `c:forEach var="entry" items="${cart.items}"` (Map.Entry) or `var="cartItem" items="${cart.items.values()}"` (CartItem)ã€‚
                *   `Product product = entry.value.product;` `int quantity = entry.value.quantity;`
                *   å›¾ç‰‡, åç§°, å•ä»· (`${product.price}`).
                *   æ•°é‡: `<input type="number" value="${quantity}" min="1" class="cart-item-qty" data-product-id="${product.id}">` (JSå¤„ç†æ›´æ–°)ã€‚ æˆ– +/- æŒ‰é’®ã€‚
                *   å°è®¡: `<span class="cart-item-subtotal">${entry.value.subtotal}</span>` (JSå®æ—¶æ›´æ–°)ã€‚
                *   æ“ä½œ: `<a href="${pageContext.request.contextPath}/cart?action=remove&productId=${product.id}" class="btn btn-danger btn-sm">åˆ é™¤</a>`ã€‚
        *   **è´­ç‰©è½¦åº•éƒ¨:**
            *   "æ¸…ç©ºè´­ç‰©è½¦"æŒ‰é’®: `<a href="${pageContext.request.contextPath}/cart?action=clear" class="btn btn-warning">æ¸…ç©ºè´­ç‰©è½¦</a>`ã€‚
            *   åˆè®¡é‡‘é¢: `<h3>æ€»è®¡: <span id="cartTotal">${cart.totalPrice}</span></h3>` (JSå®æ—¶æ›´æ–°)ã€‚
            *   "å»ç»“ç®—"æŒ‰é’®: `<a href="${pageContext.request.contextPath}/checkout" class="btn btn-success">å»ç»“ç®—</a>`ã€‚
*   `[]` **JavaScript (é¡µé¢å†…):**
    *   æ•°é‡è¾“å…¥æ¡† `onchange` æˆ– +/- æŒ‰é’®ç‚¹å‡»æ—¶ï¼Œé€šè¿‡ AJAX (æ¨è) æˆ–è¡¨å•æäº¤åˆ° `CartServlet?action=update` æ›´æ–°æ•°é‡ã€‚
    *   æˆåŠŸæ›´æ–°åï¼ŒJS æ›´æ–°é¡µé¢ä¸Šçš„å°è®¡å’Œæ€»è®¡ã€‚
    *   (å¦‚æœä¸ç”¨AJAXï¼Œæ¯æ¬¡æ•°é‡æ›´æ”¹éƒ½åˆ·æ–°é¡µé¢ï¼Œä½“éªŒç¨å·®ä½†ç¬¦åˆæœŸæœ«é¡¹ç›®è¦æ±‚)ã€‚
*   `[]` **æµ‹è¯•:** æ·»åŠ å•†å“ï¼ŒæŸ¥çœ‹è´­ç‰©è½¦ï¼Œä¿®æ”¹æ•°é‡ï¼Œåˆ é™¤å•†å“ï¼Œæ¸…ç©ºè´­ç‰©è½¦ï¼Œç©ºè´­ç‰©è½¦æç¤ºï¼Œé‡‘é¢è®¡ç®—ã€‚

---

## 6. æ”¯ä»˜æ¨¡å— (Payment Module - Simulated)

#### 6.1 æ§åˆ¶å™¨å±‚ (CheckoutServlet.java - `com.yycy.controller`)

*   `[]` åˆ›å»º `CheckoutServlet.java`ã€‚
*   `[]` æ³¨å…¥ `ICartService cartService = new CartServiceImpl();`, `IUserService userService = new UserServiceImpl();`, `IAddressService addressService = new AddressServiceImpl();`, `IProductService productService = new ProductServiceImpl();`
*   `[]` **`doGet` (å±•ç¤ºç»“ç®—é¡µé¢):**
    *   `HttpSession session = request.getSession();`
    *   `User loggedInUser = (User) session.getAttribute("loggedInUser");`
    *   è·å–ç”¨æˆ·é»˜è®¤åœ°å€: `Address address = addressService.getAddressByUserId(loggedInUser.getId());`
    *   `request.setAttribute("userAddress", address);`
    *   **åˆ¤æ–­è¿›å…¥è·¯å¾„:**
        *   **ä»å•†å“è¯¦æƒ…é¡µ"ç«‹å³è´­ä¹°":**
            *   è·å– `productId`, `quantity` å‚æ•°ã€‚
            *   `Product product = productService.getProductById(productId);`
            *   åˆ›å»ºä¸´æ—¶çš„ `CartItem` æˆ–ç±»ä¼¼ç»“æ„ï¼Œè®¡ç®—æ€»é‡‘é¢ã€‚
            *   `request.setAttribute("checkoutItems", Collections.singletonList(new CartItem(product, quantity)));`
            *   `request.setAttribute("checkoutTotal", product.getPrice().multiply(new BigDecimal(quantity)));`
            *   `session.setAttribute("isBuyNow", true);` // æ ‡è®°ä¸ºç«‹å³è´­ä¹°
            *   `session.setAttribute("buyNowItem", new CartItem(product, quantity));` // å­˜å‚¨ç«‹å³è´­ä¹°çš„å•†å“ä¿¡æ¯
        *   **ä»è´­ç‰©è½¦"å»ç»“ç®—":**
            *   `Cart cart = cartService.getCart(session);`
            *   `request.setAttribute("checkoutItems", new ArrayList<>(cart.getItems().values()));`
            *   `request.setAttribute("checkoutTotal", cart.getTotalPrice());`
            *   `session.removeAttribute("isBuyNow");`
            *   `session.removeAttribute("buyNowItem");`
    *   è½¬å‘åˆ° `/WEB-INF/jsp/checkout.jsp`ã€‚
*   `[]` **`doPost` (å¤„ç†"ç¡®è®¤æ”¯ä»˜", å¯¹åº”URL `/submitOrder` æˆ– `CheckoutServlet` å¸¦ `action=submit`):**
    *   `HttpSession session = request.getSession();`
    *   **æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸã€‚**
    *   å¦‚æœä¸æ˜¯"ç«‹å³è´­ä¹°" (`session.getAttribute("isBuyNow") == null` æˆ– `false`):
        *   `cartService.clearCart(session);` // æ¸…ç©ºè´­ç‰©è½¦
    *   `session.removeAttribute("isBuyNow");`
    *   `session.removeAttribute("buyNowItem");`
    *   é‡å®šå‘åˆ° `/paymentSuccess` (æˆ– `CheckoutServlet?action=success`)ã€‚
*   `[]` `web.xml`: æ³¨å†Œ `CheckoutServlet` åˆ° `/checkout` å’Œ `/submitOrder` (æˆ–ç”¨actionåŒºåˆ†)ã€‚

#### 6.2 è§†å›¾å±‚ (WEB-INF/jsp/checkout.jsp & WEB-INF/jsp/paymentSuccess.jsp)

*   `[]` **WEB-INF/jsp/checkout.jsp:**
    *   `checkout.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
    *   **ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ:**
        *   æ˜¾ç¤ºç”¨æˆ·æ˜µç§°: `${sessionScope.loggedInUser.nickname}`ã€‚
        *   æ˜¾ç¤ºæ”¶è´§åœ°å€: `${userAddress.province} ${userAddress.city} ...` (å¦‚æœ `userAddress` å­˜åœ¨)ã€‚
        *   æ˜¾ç¤ºæ‰‹æœºå·: `${sessionScope.loggedInUser.phone}`ã€‚
        *   (è‹¥ä¿¡æ¯ç¼ºå¤±åˆ™ç•™ç©ºæˆ–ä¸æ˜¾ç¤º)ã€‚
    *   **å•†å“åˆ—è¡¨åŒºåŸŸ (ç±»ä¼¼è´­ç‰©è½¦ï¼Œä½†æ•°é‡ä¸å¯è°ƒ):**
        *   JSTL `c:forEach var="item" items="${checkoutItems}"`: å›¾ç‰‡, åç§°, å•ä»·, è´­ä¹°æ•°é‡ã€‚
    *   **æ€»é‡‘é¢åŒºåŸŸ:** `<h3>è®¢å•æ€»é¢: Â¥${checkoutTotal}</h3>`ã€‚
    *   **"ç¡®è®¤æ”¯ä»˜"æŒ‰é’®:** `<form method="post" action="${pageContext.request.contextPath}/submitOrder"><button type="submit" class="btn btn-success">ç¡®è®¤æ”¯ä»˜</button></form>`ã€‚
*   `[]` **WEB-INF/jsp/paymentSuccess.jsp:**
    *   `paymentSuccess.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
    *   æ˜¾ç¤º"æ”¯ä»˜æˆåŠŸï¼"æç¤ºã€‚
    *   "è¿”å›é¦–é¡µ"é“¾æ¥: `<a href="${pageContext.request.contextPath}/home" class="btn btn-primary">è¿”å›é¦–é¡µ</a>`ã€‚
*   `[]` `web.xml`: (å¯é€‰) åˆ›å»ºä¸€ä¸ªç®€å•çš„ `PaymentSuccessServlet` æ˜ å°„åˆ° `/paymentSuccess`ï¼Œä»…ç”¨äºè½¬å‘åˆ° `paymentSuccess.jsp`ï¼Œæˆ–è€… `CheckoutServlet` å¤„ç† `action=success`ã€‚
*   `[]` **æµ‹è¯•:** ä»è´­ç‰©è½¦ç»“ç®—ï¼Œä»å•†å“è¯¦æƒ…ç«‹å³è´­ä¹°ï¼Œæ”¯ä»˜æˆåŠŸåè´­ç‰©è½¦æ˜¯å¦æ¸…ç©ºï¼Œé¡µé¢è·³è½¬ã€‚

---

## 7. ä¸ªäººä¸­å¿ƒæ¨¡å— (Personal Center Module)

#### 7.1 DAO å±‚å®ç° (UserDaoImpl, AddressDaoImpl - éƒ¨åˆ†å·²å®Œæˆ)

*   `[]` **UserDaoImpl - `update(User user)`:** å®ç°å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯æ›´æ–° (æ˜µç§°, ç”µè¯, é‚®ç®±, æ€§åˆ«)ã€‚
*   `[]` **UserDaoImpl - `updatePassword(int userId, String newPassword)`:** (æ–°æ–¹æ³•) SQL `UPDATE users SET password = ? WHERE id = ?`ã€‚
*   `[]` **UserDaoImpl - `updateAvatar(int userId, String avatarPath)`:** (æ–°æ–¹æ³•) SQL `UPDATE users SET avatar_path = ? WHERE id = ?`ã€‚
*   `[]` **AddressDaoImpl - `findByUserId(int userId)`:** å®ç°ã€‚
*   `[]` **AddressDaoImpl - `save(Address address)`:** å®ç°ã€‚
*   `[]` **AddressDaoImpl - `update(Address address)`:** å®ç°ã€‚

#### 7.2 Service å±‚å®ç° (UserServiceImpl, AddressServiceImpl - éƒ¨åˆ†å·²å®Œæˆ)

*   `[]` **UserServiceImpl - `updateUserProfile(User user)`:** è°ƒç”¨ `userDao.update(user)`ã€‚
*   `[]` **UserServiceImpl - `changePassword(int userId, String oldPassword, String newPassword)`:**
    *   `User user = userDao.findById(userId);`
    *   æ ¡éªŒ `oldPassword` æ˜¯å¦ä¸ `user.getPassword()` åŒ¹é…ã€‚
    *   æ ¡éªŒ `newPassword` é•¿åº¦ (>=6)ã€‚
    *   æˆåŠŸåˆ™è°ƒç”¨ `userDao.updatePassword(userId, newPassword)`ã€‚
*   `[]` **UserServiceImpl - `updateUserAvatar(int userId, String avatarPath)`:** è°ƒç”¨ `userDao.updateAvatar(userId, avatarPath)`ã€‚
*   `[]` **AddressServiceImpl - `getAddressByUserId(int userId)`:** è°ƒç”¨ `addressDao.findByUserId(userId)`ã€‚
*   `[]` **AddressServiceImpl - `saveOrUpdateAddress(Address address)`:**
    *   `existingAddress = addressDao.findByUserId(address.getUserId());`
    *   å¦‚æœ `existingAddress == null`, è°ƒç”¨ `addressDao.save(address)`ã€‚
    *   å¦åˆ™, è®¾ç½® `address.setId(existingAddress.getId())` å¹¶è°ƒç”¨ `addressDao.update(address)`ã€‚

#### 7.3 æ§åˆ¶å™¨å±‚ (ProfileServlet.java - `com.yycy.controller`)

*   `[]` åˆ›å»º `ProfileServlet.java`ã€‚
*   `[]` æ³¨å…¥ `IUserService`, `IAddressService`ã€‚
*   `[]` **`doGet` (å±•ç¤ºä¸ªäººä¸­å¿ƒä¸»é¡µæˆ–ç‰¹å®šè¡¨å•):**
    *   `HttpSession session = request.getSession(); User loggedInUser = (User) session.getAttribute("loggedInUser");`
    *   è·å– `action` å‚æ•° (ä¾‹å¦‚ `editProfile`, `changePass`, `manageAddress`, `uploadAvatarForm`)ã€‚
    *   é»˜è®¤æˆ– `action="view"`:
        *   `User userDetails = userService.getUserById(loggedInUser.getId());`
        *   `Address address = addressService.getAddressByUserId(loggedInUser.getId());`
        *   `request.setAttribute("userDetails", userDetails);`
        *   `request.setAttribute("userAddress", address);`
        *   è½¬å‘åˆ° `/WEB-INF/jsp/profile.jsp`ã€‚
    *   (æ ¹æ® action é¢„åŠ è½½ä¸åŒè¡¨å•æ‰€éœ€æ•°æ®ï¼Œæˆ–ç”± profile.jsp é€šè¿‡ JSTL c:if æ§åˆ¶æ˜¾ç¤ºå“ªä¸ªè¡¨å•)ã€‚
*   `[]` **`doPost` (å¤„ç†è¡¨å•æäº¤):**
    *   è·å– `action` å‚æ•°ã€‚
    *   **`action="updateInfo"`:**
        *   è·å–è¡¨å•å‚æ•° (æ˜µç§°, ç”µè¯, é‚®ç®±, æ€§åˆ«)ã€‚
        *   åˆ›å»º `User` å¯¹è±¡ï¼Œè®¾ç½®ä» session è·å–çš„ `id` å’Œ `username`ï¼Œä»¥åŠè¡¨å•æ•°æ®ã€‚
        *   è°ƒç”¨ `userService.updateUserProfile(userToUpdate)`ã€‚
        *   æ›´æ–° Session ä¸­çš„ `loggedInUser` å¯¹è±¡çš„éƒ¨åˆ†ä¿¡æ¯ (å¦‚æ˜µç§°)ã€‚
        *   è®¾ç½®æˆåŠŸ/å¤±è´¥æ¶ˆæ¯ï¼Œé‡å®šå‘å› `/profile`ã€‚
    *   **`action="changePassword"`:**
        *   è·å–æ—§å¯†ç , æ–°å¯†ç , ç¡®è®¤æ–°å¯†ç ã€‚
        *   æ ¡éªŒ (æ–°å¯†ç é•¿åº¦, ä¸¤æ¬¡æ–°å¯†ç ä¸€è‡´)ã€‚
        *   è°ƒç”¨ `userService.changePassword(loggedInUser.getId(), oldPassword, newPassword)`ã€‚
        *   è®¾ç½®æˆåŠŸ/å¤±è´¥æ¶ˆæ¯ï¼Œé‡å®šå‘å› `/profile`ã€‚
    *   **`action="uploadAvatar"`:** (ä½¿ç”¨ Apache Commons FileUpload)
        *   æ£€æŸ¥æ˜¯å¦ä¸º `multipart/form-data`ã€‚
        *   è§£æè¯·æ±‚ï¼Œè·å–ä¸Šä¼ çš„æ–‡ä»¶é¡¹ã€‚
        *   ä¿å­˜æ–‡ä»¶åˆ°æœåŠ¡å™¨æŒ‡å®šè·¯å¾„ (ä¾‹å¦‚ `images/tou_xiang/user_<id>_<timestamp>.jpg`)ã€‚ ğŸ‘¤ (è·¯å¾„è§„åˆ’å’Œæƒé™å¯èƒ½éœ€äººå·¥)
        *   è·å–æ–‡ä»¶ç›¸å¯¹è·¯å¾„ `avatarPath`ã€‚
        *   è°ƒç”¨ `userService.updateUserAvatar(loggedInUser.getId(), avatarPath)`ã€‚
        *   æ›´æ–° Session ä¸­ `loggedInUser.setAvatarPath(avatarPath)`ã€‚
        *   è®¾ç½®æˆåŠŸ/å¤±è´¥æ¶ˆæ¯ï¼Œé‡å®šå‘å› `/profile`ã€‚
        *   **`action="saveAddress"`:**
        *   è·å–åœ°å€è¡¨å•å‚æ•° (çœ, å¸‚, åŒº, è¯¦ç»†åœ°å€)ã€‚
        *   åˆ›å»º `Address` å¯¹è±¡ï¼Œè®¾ç½® `userId`ã€‚
        *   è°ƒç”¨ `addressService.saveOrUpdateAddress(address)`ã€‚
        *   è®¾ç½®æˆåŠŸ/å¤±è´¥æ¶ˆæ¯ï¼Œé‡å®šå‘å› `/profile`ã€‚
*   `[]` `web.xml`: æ³¨å†Œ `ProfileServlet` åˆ° `/profile`ã€‚

#### 7.4 è§†å›¾å±‚ (WEB-INF/jsp/profile.jsp)

*   `[]` `profile.jsp` å°†åŒ…å«å®Œæ•´çš„ HTML ç»“æ„ (head, body, navigation, content, footer)ã€‚
*   `[]` **æ•´ä½“å¸ƒå±€ (Bootstrap Grid: å·¦ä¾§å¯¼èˆªèœå•ï¼Œå³ä¾§å†…å®¹åŒº):**
    *   **å·¦ä¾§èœå• (Bootstrap Navs or List group):**
        *   é“¾æ¥åˆ°: ä¸ªäººä¿¡æ¯ (`/profile?tab=info`), ä¿®æ”¹å¯†ç  (`/profile?tab=password`), ä¸Šä¼ å¤´åƒ (`/profile?tab=avatar`), ç®¡ç†åœ°å€ (`/profile?tab=address`)ã€‚
    *   **å³ä¾§å†…å®¹åŒº (æ ¹æ® `param.tab` æˆ– Servlet è®¾ç½®çš„å±æ€§åŠ¨æ€æ˜¾ç¤º):**
        *   **ä¸ªäººä¿¡æ¯è¡¨å• (`c:if test="${param.tab == 'info' or empty param.tab}"`):**
            *   ç”¨æˆ·å (åªè¯»): `${userDetails.username}`ã€‚
            *   è¾“å…¥æ¡†: æ˜µç§°, ç”µè¯, é‚®ç®±ã€‚
            *   å•é€‰æŒ‰é’®: æ€§åˆ« (ç”·, å¥³, ä¿å¯†)ã€‚
            *   "ä¿å­˜ä¿®æ”¹"æŒ‰é’® (æäº¤åˆ° `ProfileServlet?action=updateInfo`)ã€‚
        *   **ä¿®æ”¹å¯†ç è¡¨å• (`c:if test="${param.tab == 'password'}"`):**
            *   è¾“å…¥æ¡†: æ—§å¯†ç , æ–°å¯†ç , ç¡®è®¤æ–°å¯†ç ã€‚
            *   "ç¡®è®¤ä¿®æ”¹"æŒ‰é’® (æäº¤åˆ° `ProfileServlet?action=changePassword`)ã€‚
        *   **ä¸Šä¼ å¤´åƒè¡¨å• (`c:if test="${param.tab == 'avatar'}"`):**
            *   å½“å‰å¤´åƒé¢„è§ˆ: `<img src="${pageContext.request.contextPath}/${userDetails.avatarPath != null ? userDetails.avatarPath : 'images/tou_xiang/default.jpg'}" ...>`ã€‚
            *   `<form method="post" action="${pageContext.request.contextPath}/profile?action=uploadAvatar" enctype="multipart/form-data">`
                *   `<input type="file" name="avatarFile">`
                *   "ä¿å­˜å¤´åƒ"æŒ‰é’®ã€‚
            *   JS å›¾ç‰‡æœ¬åœ°é¢„è§ˆ (å¯é€‰)ã€‚
        *   **ç®¡ç†åœ°å€è¡¨å• (`c:if test="${param.tab == 'address'}"`):**
            *   è¾“å…¥æ¡†: çœ, å¸‚, åŒº, è¯¦ç»†åœ°å€ (å€¼æ¥è‡ª `${userAddress}` å¦‚æœå­˜åœ¨)ã€‚
            *   "ä¿å­˜åœ°å€"æŒ‰é’® (æäº¤åˆ° `ProfileServlet?action=saveAddress`)ã€‚
    *   æ˜¾ç¤ºæ“ä½œç»“æœæ¶ˆæ¯ (`${requestScope.successMessage}`, `${requestScope.errorMessage}`).
*   `[]` **æµ‹è¯•:** å„ä¸ªè¡¨å•çš„å±•ç¤ºã€æäº¤ã€æ•°æ®æ›´æ–°ã€Session æ›´æ–°ã€å¤´åƒä¸Šä¼ å’Œæ˜¾ç¤ºã€åœ°å€ä¿å­˜å’Œæ˜¾ç¤ºã€‚

---

## 8. æ•´ä½“æµ‹è¯•ä¸éƒ¨ç½²å‡†å¤‡

*   `[]` **åŠŸèƒ½æµ‹è¯•:**
    *   `[]` é€ä¸€æµ‹è¯• RFC ä¸­å®šä¹‰çš„æ‰€æœ‰åŠŸèƒ½ç‚¹å’Œç”¨æˆ·æµç¨‹ã€‚
    *   `[]` æµ‹è¯•è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥ (ä¾‹å¦‚ï¼Œæœç´¢ç‰¹æ®Šå­—ç¬¦ï¼Œæäº¤ç©ºè¡¨å•ç­‰)ã€‚
*   `[]` **ç”¨æˆ·ä½“éªŒæµ‹è¯•:**
    *   `[]` æ£€æŸ¥å¯¼èˆªæ˜¯å¦æ¸…æ™°ï¼Œæç¤ºä¿¡æ¯æ˜¯å¦æ˜ç¡®ã€‚
    *   `[]` æ£€æŸ¥é¡µé¢åŠ è½½é€Ÿåº¦ (å¯¹äºæœŸæœ«é¡¹ç›®ï¼Œä¸»è¦æ˜¯é¿å…æ˜æ˜¾å¡é¡¿)ã€‚
*   `[]` **å…¼å®¹æ€§æµ‹è¯• (åŸºæœ¬):**
    *   `[]` åœ¨ä¸»æµæµè§ˆå™¨ (Chrome, Firefox, Edge) ä¸Šæµ‹è¯•åŸºæœ¬åŠŸèƒ½å’Œæ˜¾ç¤ºã€‚ ğŸ‘¤
*   `[]` **æ•°æ®ä¸€è‡´æ€§æ£€æŸ¥:**
    *   `[]` éªŒè¯æ•°æ®åº“ä¸­çš„æ•°æ®ä¸å‰ç«¯æ˜¾ç¤ºæ˜¯å¦ä¸€è‡´ (ä¾‹å¦‚ï¼Œä¸ªäººä¿¡æ¯ä¿®æ”¹å)ã€‚
*   `[]` **å®‰å…¨æ€§æ£€æŸ¥ (åˆçº§):**
    *   `[]` ç¡®è®¤ `AuthenticationFilter` æŒ‰é¢„æœŸå·¥ä½œã€‚
    *   `[]` æ£€æŸ¥æ˜¯å¦æœ‰æ˜æ˜¾çš„XSSæˆ–SQLæ³¨å…¥é£é™© (å¯¹äºæœŸæœ«é¡¹ç›®ï¼Œä¸»è¦ä¾èµ–äºæ­£ç¡®ä½¿ç”¨ `PreparedStatement` å’Œ JSTL çš„è‡ªåŠ¨è½¬ä¹‰)ã€‚
    *   `[]` **[å›é¡¾]** å¯†ç æ˜æ–‡å­˜å‚¨æ˜¯å·²çŸ¥é£é™©ç‚¹ï¼Œç¬¦åˆRFCè¦æ±‚ã€‚
*   `[]` **ä»£ç å®¡æŸ¥ä¸æ¸…ç†:**
    *   `[]` ç§»é™¤ä¸å¿…è¦çš„ä»£ç å’Œæ³¨é‡Šã€‚
    *   `[]` æ ¼å¼åŒ–ä»£ç ã€‚
    *   `[]` æ£€æŸ¥æ˜¯å¦æœ‰æœªå¤„ç†çš„å¼‚å¸¸æˆ–èµ„æºæ³„æ¼ (æ•°æ®åº“è¿æ¥ç­‰)ã€‚
*   `[]` **ç¼–å†™/æ›´æ–° `README.md`:** ğŸ‘¤
    *   `[]` é¡¹ç›®ç®€ä»‹ã€‚
    *   `[]` æŠ€æœ¯æ ˆã€‚
    *   `[]` å¦‚ä½•é…ç½®å’Œè¿è¡Œé¡¹ç›® (æ•°æ®åº“è®¾ç½®ï¼ŒTomcatéƒ¨ç½²)ã€‚
    *   `[]` (å¯é€‰) å·²å®ç°åŠŸèƒ½åˆ—è¡¨ã€‚
*   `[]` **æœ€ç»ˆæ‰“åŒ…ä¸éƒ¨ç½²:** ğŸ‘¤
    *   `[]` ä½¿ç”¨ Maven (`mvn clean package`) ç”Ÿæˆ WAR æ–‡ä»¶ã€‚
    *   `[]` å°† WAR æ–‡ä»¶éƒ¨ç½²åˆ°ç›®æ ‡ Tomcat æœåŠ¡å™¨ã€‚
    *   `[]` è¿›è¡Œæœ€ç»ˆçš„çº¿ä¸Šæµ‹è¯• (å¦‚æœåœ¨è¿œç¨‹æœåŠ¡å™¨éƒ¨ç½²)ã€‚

---

**æ³¨æ„äº‹é¡¹:**
*   æœ¬ IMP æ˜¯ä¸€ä¸ªè¯¦ç»†çš„æŒ‡å¯¼ï¼Œä½†åœ¨å®é™…å¼€å‘ä¸­å¯èƒ½ä¼šæ ¹æ®é‡åˆ°çš„å…·ä½“é—®é¢˜è¿›è¡Œè°ƒæ•´ã€‚
*   å»ºè®®é¢‘ç¹è¿›è¡Œå°æ­¥æäº¤åˆ° Git ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚
*   å¯¹äºå¤æ‚çš„ Servlet é€»è¾‘æˆ– JSP åŠ¨æ€å†…å®¹ï¼Œå¯ä»¥å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½ï¼Œå†é€æ­¥å®Œå–„ç»†èŠ‚å’Œç”¨æˆ·ä½“éªŒã€‚
*   **[æŠ€æœ¯è€ƒé‡]** è´¯ç©¿æ•´ä¸ªå¼€å‘è¿‡ç¨‹ï¼Œå¯¹äºå¯ä¼˜åŒ–ç‚¹ï¼ˆå¦‚ AJAX äº¤äº’ã€æ›´å®‰å…¨çš„é…ç½®ã€è¿æ¥æ± ç­‰ï¼‰æœ‰æ‰€æ„è¯†ï¼Œä½†ä»¥å®Œæˆ RFC è¦æ±‚ä¸ºé¦–è¦ç›®æ ‡ã€‚